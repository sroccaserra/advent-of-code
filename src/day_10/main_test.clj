(ns day-10.main-test
  (:require [clojure.test :refer :all]
            [day-10.main :refer :all]))

(def example-1 [".#..#"
                "....."
                "#####"
                "....#"
                "...##"])

(def example-letters ["#........."
                      "...A......"
                      "...B..a..."
                      ".EDCG....a"
                      "..F.c.b..."
                      ".....c...."
                      "..efd.c.gb"
                      ".......c.."
                      "....f...c."
                      "...e..d..c"])

(def example-2 ["......#.#."
                "#..#.#...."
                "..#######."
                ".#.#.###.."
                ".#..#....."
                "..#....#.#"
                "#..#....#."
                ".##.#..###"
                "##...#..#."
                ".#....####"])

(def example-3 ["#.#...#.#."
                ".###....#."
                ".#....#..."
                "##.#.#.#.#"
                "....#.#.#."
                ".##..###.#"
                "..#...##.."
                "..##....##"
                "......#..."
                ".####.###."])

(def example-4 [".#..#..###"
                "####.###.#"
                "....###.#."
                "..###.##.#"
                "##.##.#.#."
                "....###..#"
                "..#.#..#.#"
                "#..#.#.###"
                ".##...##.#"
                ".....#.#.."])

(def example-5 [".#..##.###...#######"
                "##.############..##."
                ".#.######.########.#"
                ".###.#######.####.#."
                "#####.##.#.##.###.##"
                "..#####..#.#########"
                "####################"
                "#.####....###.#.#.##"
                "##.#################"
                "#####.##.###..####.."
                "..######..##.#######"
                "####.##.####...##..#"
                ".#####..#.######.###"
                "##...#.##########..."
                "#.##########.#######"
                ".####.#.###.###.#.##"
                "....##.##.###..#####"
                ".#.#.###########.###"
                "#.#.#.#####.####.###"
                "###.##.####.##.#..##"])

(deftest testing-examples
  (are [example expected]
       (= expected
          (-> example
              parse-asteroid-positions
              find-best-location))
       example-1 {:x 3 :y 4 :nb-seen 8}
       example-2 {:x 5 :y 8 :nb-seen 33}
       example-3 {:x 1 :y 2 :nb-seen 35}
       example-4 {:x 6 :y 3 :nb-seen 41}
       example-5 {:x 11 :y 13 :nb-seen 210}))
