(ns day-10.main-test
  (:require [clojure.test :refer :all]
            [day-10.main :refer :all]))

(def example-1 [".#..#"
                "....."
                "#####"
                "....#"
                "...##"])

(def example-2 ["......#.#."
                "#..#.#...."
                "..#######."
                ".#.#.###.."
                ".#..#....."
                "..#....#.#"
                "#..#....#."
                ".##.#..###"
                "##...#..#."
                ".#....####"])

(def example-3 ["#.#...#.#."
                ".###....#."
                ".#....#..."
                "##.#.#.#.#"
                "....#.#.#."
                ".##..###.#"
                "..#...##.."
                "..##....##"
                "......#..."
                ".####.###."])

(def example-4 [".#..#..###"
                "####.###.#"
                "....###.#."
                "..###.##.#"
                "##.##.#.#."
                "....###..#"
                "..#.#..#.#"
                "#..#.#.###"
                ".##...##.#"
                ".....#.#.."])

(def example-5 [".#..##.###...#######"
                "##.############..##."
                ".#.######.########.#"
                ".###.#######.####.#."
                "#####.##.#.##.###.##"
                "..#####..#.#########"
                "####################"
                "#.####....###.#.#.##"
                "##.#################"
                "#####.##.###..####.."
                "..######..##.#######"
                "####.##.####...##..#"
                ".#####..#.######.###"
                "##...#.##########..."
                "#.##########.#######"
                ".####.#.###.###.#.##"
                "....##.##.###..#####"
                ".#.#.###########.###"
                "#.#.#.#####.####.###"
                "###.##.####.##.#..##"])

(deftest testing-examples
  (are [example expected]
       (= expected
          (-> example
              parse-asteroid-positions
              count-detected-from-best-location))
       example-1 8
       example-2 33
       example-3 35
       example-4 41
       example-5 210))
